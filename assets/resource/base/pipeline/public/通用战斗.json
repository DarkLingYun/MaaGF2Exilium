{
    "通用战斗任务开始": {
        "recognition": "OCR",
        "expected": [
            "作战开始",
            "资源加载中"
        ],
        "rate_limit": 3000,
        "timeout": 200000,
        "next": [
            "已进入作战开始页面-通用战斗",
            "启动自动战斗-通用战斗",
            "任务完成-通用战斗",
            "任务失败-通用战斗",
            "[JumpBack]点击通信中图片跳过角色对话-通用战斗",
            "[JumpBack]发现人形介绍界面-通用战斗"
        ]
    },
    "已进入作战开始页面-通用战斗": {
        "recognition": "OCR",
        "expected": "作战开始",
        "rate_limit": 3000,
        "next": [
            "任务完成-通用战斗",
            "任务失败-通用战斗",
            "未部署任何人形-通用战斗",
            "点击作战开始按钮-通用战斗",
            "[JumpBack]点击通信中图片跳过角色对话-通用战斗",
            "[JumpBack]发现人形介绍界面-通用战斗"
        ]
    },
    "点击作战开始按钮-通用战斗": {
        "recognition": "TemplateMatch",
        "template": "公用按钮组件/作战开始.png",
        "action": "Click",
        "rate_limit": 5000,
        "timeout": 200000,
        "next": [
            "发现可部署人形提示-通用战斗",
            "点击作战开始按钮-通用战斗",
            "任务完成-通用战斗",
            "任务失败-通用战斗",
            "启动自动战斗-通用战斗",
            "[JumpBack]点击通信中图片跳过角色对话-通用战斗",
            "[JumpBack]发现人形介绍界面-通用战斗"
        ]
    },
    "发现可部署人形提示-通用战斗": {
        "recognition": "OCR",
        "expected": [
            "可部署"
        ],
        "roi": [
            385,
            274,
            506,
            142
        ],
        "action": "Click",
        "next": [
            "取消可部署人形提示-通用战斗"
        ]
    },
    "取消可部署人形提示-通用战斗": {
        "recognition": "OCR",
        "expected": "取消",
        "action": "Click",
        "post_wait_freezes": {
            "time": 500,
            "target":[
                0,
                220,
                500,
                500
            ]
        },
        "next": [
            "选中部署位-通用战斗"
        ]
    },
    "未部署任何人形-通用战斗": {
        "recognition": "OCR",
        "expected": [
            "0/4$",
            "0/5$",
            "0/6$"
        ],
        "next": [
            "选中部署位-通用战斗"
        ]
    },
    "选中部署位-通用战斗": {
        "recognition": "ColorMatch",
        "lower": [
            4,
            135,
            160
        ],
        "upper": [
            84,
            165,
            253
        ],
        "connected": true,
        "count": 10,
        "order_by": "Random",
        "action": "Click",
        "post_wait_freezes": {
            "time": 500,
            "target":[
                0,
                220,
                500,
                500
            ]
        },
        "next": [
            "部署人形-通用战斗",
            "选中部署位-通用战斗"
        ]
    },
    "部署人形-通用战斗": {
        "recognition": "OCR",
        "expected": "部署人形",
        "action": "Click",
        "order_by": "Vertical",
        "index": -1,
        "next": [
            "点击作战开始按钮-通用战斗"
        ]
    },
    "启动自动战斗-通用战斗": {
        "recognition": "TemplateMatch",
        "template": "公用按钮组件/自动战斗_off.png",
        "roi": [
            986,
            4,
            279,
            63
        ],
        "threshold": 0.8, // 遗珍回收部分战斗，已开启的自动战斗匹配度为 0.76
        "order_by": "Score",
        "green_mask": true,
        "action": "Click",
        "rate_limit": 5000,
        "timeout": 2000000, // 肉鸽有的战斗可能很长，200s 不够用
        "next": [
            "任务完成-通用战斗",
            "任务失败-通用战斗",
            "启动自动战斗-通用战斗"
        ]
    },
    "任务完成-通用战斗": {
        "recognition": "OCR",
        "expected": [
            "任务完成",
            "对战胜利"
        ],
        "action": "Click",
        "next": [
            "确认任务完成或失败-通用战斗",
            "任务完成-通用战斗",
            "[JumpBack]实兵演习等级晋级-通用战斗"
        ]
    },
    "任务失败-通用战斗": {
        "recognition": "OCR",
        "expected": [
            "任务失败",
            "对战失败",
            "战斗失败"
        ],
        "action": "Click",
        "focus": {
            "start": "[color:red]任务失败，请考虑是否需要手动处理[/color]"
        },
        "next": [
            "退出战斗资源加载中-通用战斗",
            "确认任务完成或失败-通用战斗",
            "任务失败-通用战斗",
            "[JumpBack]实兵演习等级晋级-通用战斗",
            "[JumpBack]点击空白处关闭-通用"
        ]
    },
    "确认任务完成或失败-通用战斗": {
        "recognition": "OCR",
        "expected": "^确认$",
        "action": "Click",
        "next": [
            "退出战斗资源加载中-通用战斗",
            "确认任务完成或失败-通用战斗",
            "[JumpBack]实兵演习等级晋级-通用战斗"
        ]
    },
    "退出战斗资源加载中-通用战斗": {
        "recognition": "OCR",
        "expected": "资源加载中",
        "post_wait_freezes": {
            "time": 500,
            "target": [
                0,
                0,
                500,
                500
            ]
        },
        "next": [
            "退出战斗资源加载中-通用战斗",
            "通用战斗任务结束"
        ]
    },
    "通用战斗任务结束": {
        "post_wait_freezes": 500
    },
    // 下面的节点用于内部 interrupt，处理各种类似不同战斗前后的附加内容
    "实兵演习等级晋级-通用战斗": {
        "recognition": "OCR",
        "expected": [
            "点击屏幕任意位置继续",
            "已晋升"
        ],
        "action": "Click",
        "post_wait_freezes": 500
    },
    "点击通信中图片跳过角色对话-通用战斗": {
        "recognition": "TemplateMatch",
        "template": "活动/通信中.png",
        "green_mask": true,
        "order_by": "Score",
        "action": "Click",
        "post_wait_freezes": 500
    },
    "发现人形介绍界面-通用战斗": {
        "recognition": "OCR",
        "expected": "试用人形介绍",
        "next": [
            "点击关闭人形介绍-通用战斗"
        ]
    },
    "点击关闭人形介绍-通用战斗": {
        "recognition": "TemplateMatch",
        "template": [
            "公用按钮组件/关闭按钮_gray.png",
            "公用按钮组件/关闭按钮_black.png"
        ],
        "action": "Click",
        "post_wait_freezes": 500
    }
}